{"version":3,"file":"static/webpack/static/development/pages/_app.js.aac1d7accaad77774ab9.hot-update.js","sources":["webpack:///./components/Header.jsx"],"sourcesContent":["/* eslint-disable space-before-function-paren */\n\n// NOTICE: importing reactn instead of react\nimport React, { setGlobal } from 'reactn';\n\nimport { Link } from '../routes';\n\n// jquery\nimport $ from 'jquery';\n\n// components\nimport Navigation from '../components/Navigation.jsx';\nimport Sidebar from '../components/Sidebar.jsx';\nimport Searchbar from '../components/Searchbar.jsx';\n\n// constants\nimport {\n  BREAKPOINTS\n} from '../constants/constants.config.js';\n\n\n// utility functions\nimport { responsive } from '../utilities/app.utilities.js';\n\n\n/**\n * Header class. Renders the header.\n */\nexport default class Header extends React.Component {\n  /**\n   * Renders the header.\n   */\n\n  constructor(props){\n    super(props);\n    this.state = { scrolled: false};\n  }\n\n  toggleSidebar() {\n    if ($(\"#sidebar\").css(\"left\") !== '0px'){\n      $(\"#sidebar\").css(\"left\", '0px');\n    }\n    else{\n      $(\"#sidebar\").css(\"left\", \"-100%\");\n    }\n  }\n\n  resetSidebar() {\n    $(\"#sidebar\").css(\"left\", \"-100%\");\n    $(\".sidebar-item\").removeClass(\"active\");\n  }\n\n\n  async componentDidMount() {\n    var mobile = responsive(BREAKPOINTS.schmedium, 'less_eq');\n    setGlobal( {toggleSidebar: this.toggleSidebar, resetSidebar: this.resetSidebar, mobile: !!mobile} );\n    //forces re-render\n    this.setState( {scrolled: this.state.scrolled });\n\n    $(window).resize(() => {\n      var mobile = responsive(BREAKPOINTS.schmedium, 'less_eq');\n      setGlobal( {toggleSidebar: this.toggleSidebar, resetSidebar: this.resetSidebar, mobile: !!mobile} );\n      //forces re-render\n      this.setState( {scrolled: this.state.scrolled} );\n    });\n\n    $(window).scroll(event => {\n      const { scrolled } = this.state;\n      const offset = 0;\n      var header = document.getElementById(\"masthead\");\n      if (!header) {\n        return;\n      }\n      const check = header.getBoundingClientRect().bottom-2;\n      var scrolledState = !((check + offset) >= 0 && (check - offset) <= window.innerHeight);\n      if (scrolledState !== scrolled){\n        this.setState( {scrolled: scrolledState} );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    $(window).unbind('resize');\n    $(window).unbind('scroll');\n  }\n\n  render() {\n    const { mobile } = this.global;\n    const { scrolled } = this.state;\n    // var mobile = responsive(BREAKPOINTS.schmedium, 'less_eq');\n    var searchBar = \"\";\n    if (!mobile){\n      searchBar = <Searchbar />\n    }\n\n\n    return (\n      <header id=\"header\" className={`${scrolled ? 'pad-bottom' : ''}`} >\n        <div id=\"masthead\" className={`container${mobile ? ' disappear' : ''}`}>\n          <React.Fragment>\n            <Link to=\"/\">\n              <a><img src=\"/static/images/the-diamondback-logo.svg\" alt='The Diamondback' /></a>\n            </Link>\n            {searchBar}\n          </React.Fragment>\n        </div>\n\n        {/* navigation */}\n        <Navigation scrolled={scrolled} />\n        <Sidebar scrolled={scrolled}/>\n      </header>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAGA;;;;AAGA;;;;;AACA;;;AAIA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AACA;AAAA;AAGA;;;;AApFA;AACA;;;;;A","sourceRoot":""}