(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{431:function(e,t,n){__NEXT_REGISTER_PAGE("/ArticlePage",function(){return e.exports=n(449),{page:e.exports.default}})},449:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(0),c=n.n(o),i=n(5),l=n(13),u=n.n(l),s=n(68),f=n.n(s),m=n(22),p=n(8),d=n.n(p),y=n(2),b=n.n(y),h=n(46),v=n(4);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=k(this,O(t).call(this,e))).state={articles:[],loaded:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,c.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e,t=(e=a.a.mark(function e(){var t,n,r,o,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.categories,r=t.story_id,o=n[0],e.prev=2,e.next=5,Object(v.g)("/articles?category=".concat(o.id,"&preview=true&per_page=4"));case 5:4===(i=(i=e.sent).sort(function(e,t){return b()(t.date).diff(e.date)}).filter(function(e){return e.id!==r}).map(function(e){return Object(v.e)(e)}).map(function(e,t){return c.a.createElement(h.a,g({},e,{key:t}))})).length&&i.pop(),this.setState({articles:i,loaded:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),Object(v.b)(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[2,11]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){_(o,r,a,c,i,"next",e)}function i(e){_(o,r,a,c,i,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.articles;return e.loaded?c.a.createElement("div",{className:"related-content"},c.a.createElement("hr",null),c.a.createElement("h2",null,"Recommended Articles"),c.a.createElement("div",{className:"related-articles-list"},t)):c.a.createElement("div",{className:"related-content"},c.a.createElement("h2",null,"Recommended Articles"))}}])&&w(n.prototype,r),o&&w(n,o),t}(),S=n(7);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){P(o,r,a,c,i,"next",e)}function i(e){P(o,r,a,c,i,"throw",e)}c(void 0)})}}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",function(){return H});var H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,M(t).call(this,e))).state={scriptjsLoaderEnabled:!1},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o["Component"]),n=t,r=[{key:"componentDidUpdate",value:function(){var e=L(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!==document.getElementById("article-text")&&Object(v.f)(document.getElementById("article-text"));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setState({scriptjsLoaderEnabled:!0})}},{key:"generateCategories",value:function(e){return e.map(function(e){return o.createElement(i.Link,{href:e.link,key:e.id},o.createElement("a",null,f()(e.name)))})}},{key:"render",value:function(){var e=this.props.article;if(!e)return o.createElement(m.default,null);var t="";e.featured_image&&(t=o.createElement(o.Fragment,null,o.createElement("div",{className:"image-area"},o.createElement("img",{alt:"Article Image",className:"article-image",id:"image-"+e.id,src:e.featured_image.article,onLoad:function(){return Object(v.d)("image-"+e.id)}})),o.createElement("span",{className:"article-caption",dangerouslySetInnerHTML:{__html:e.featured_image.caption}})));var n=o.createElement("div",{id:"article-text-before",className:"article-text before-js",dangerouslySetInnerHTML:{__html:e.content.rendered}}),r="";return this.state.scriptjsLoaderEnabled&&(d()("#article-text-before").hide(),r=o.createElement("div",{id:"article-text",className:"article-text after-js"},Object(v.c)(e.content.rendered))),o.createElement(o.Fragment,null,o.createElement(u.a,null,o.createElement("title",null,e.title+" - The Diamondback  "),o.createElement("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),o.createElement("script",{async:!0,src:"https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c418704770faa57"})),o.createElement("main",{className:"page article-page"},o.createElement("div",{className:"container-narrow flex"},o.createElement("div",{className:"left-rail"},o.createElement("div",{className:"category"},this.generateCategories(e.categories)),o.createElement("h1",null,e.title),o.createElement("div",{className:"details"},o.createElement("span",{className:"accent author"},o.createElement(i.Link,{href:e.author.link},o.createElement("a",null,e.author.name))),o.createElement("span",{className:"dot"},"·"),o.createElement("span",null,e.date.published),e.date.updated?o.createElement("span",{className:"dot"},"·"):"",e.date.updated?o.createElement("span",null,e.date.updated):""),o.createElement("div",{className:"addthis_inline_share_toolbox"}),t,n,r),o.createElement("div",{className:"right-rail"},o.createElement("br",null),o.createElement("br",null),o.createElement(S.a,{path:"300x250_Banner_B",size:[300,250],mode:"desktop"}),o.createElement("br",null),o.createElement(S.a,{path:"300x600_Banner_C",size:[300,600],mode:"desktop"}))),o.createElement("div",{className:"container-narrow"},o.createElement(N,{categories:e.categories,story_id:e.id}))))}}],c=[{key:"getInitialProps",value:function(){var e=L(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=null,e.prev=2,e.next=5,Object(v.g)("/articles/".concat(n.slug));case 5:r=e.sent,r=Object(v.e)(r),r=Object(v.a)(r),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",{article:null});case 14:return e.abrupt("return",{article:r});case 15:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()}],r&&T(n.prototype,r),c&&T(n,c),t}()},46:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(1),a=n(5),o=n(4);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function t(){var e,n,r,a,o,i,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return r=this,n=!(a=(e=l(t)).call.apply(e,[this].concat(m)))||"object"!==c(a)&&"function"!=typeof a?s(r):a,o=s(s(n)),u=function(e){var t;if(e.hours<24)t=1===e.hours?"1 hour ago":"".concat(e.hours," hours ago");else{var n=parseInt(e.days/7);t=1===e.days?"1 day ago":e.days<7?"".concat(e.days," days ago"):1===n?"1 week ago":"".concat(n," weeks ago")}return t},(i="_published")in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,n}var n,f,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(f=[{key:"render",value:function(){var e=this.props,t=e.author,n=e.date,c=e.id,i=e.link,l=e.title,u=e.featured_image,s=e.text_only,f=r.createElement(a.Link,{href:i},r.createElement("a",null,r.createElement("div",{className:"article-block-image"})));return u&&(f=r.createElement(a.Link,{href:i},r.createElement("a",null,r.createElement("img",{alt:"Article",className:"article-block-image",id:"image-".concat(c),src:u.article,onLoad:function(){return Object(o.d)("image-".concat(c))}})))),s?r.createElement("div",{className:"article-text-block"},r.createElement(a.Link,{href:i},r.createElement("a",{dangerouslySetInnerHTML:{__html:l},className:"article-block-title"})),r.createElement("div",{className:"article-info"},r.createElement(a.Link,{href:t.link},r.createElement("a",{dangerouslySetInnerHTML:{__html:t.name},className:"article-block-author"})),r.createElement("p",{dangerouslySetInnerHTML:{__html:this._published(n.ago.published)},className:"article-block-published"}))):r.createElement("figure",{className:"article-block fadeIn animated"},f,r.createElement("figcaption",null,r.createElement("div",{className:"container"},r.createElement(a.Link,{href:i},r.createElement("a",{dangerouslySetInnerHTML:{__html:l},className:"article-block-title"})),r.createElement("div",{className:"article-info"},r.createElement(a.Link,{href:t.link},r.createElement("a",{dangerouslySetInnerHTML:{__html:t.name},className:"article-block-author"})),r.createElement("p",{dangerouslySetInnerHTML:{__html:this._published(n.ago.published)},className:"article-block-published"})))))}}])&&i(n.prototype,f),m&&i(n,m),t}()}},[[431,1,0,2]]]);